#N canvas 0 0 1892 986 10;
#X obj 451 511 makenote;
#X obj 483 584 noteout;
#X text 858 407 duration express in ms;
#X obj 216 96 nbx 5 14 -1e+37 1e+37 0 0 empty empty empty 0 -8 0 10
-262144 -1 -1 150 256 0;
#X text 238 62 metronome;
#X text 105 299 output random numbers in a moving range;
#X text 7 76 sends bang periodically with metronome;
#X text 732 246 velocity in midi = loudness of the volume;
#X obj 681 220 random 37;
#X obj 367 306 random 27;
#X obj 700 267 + 90;
#X obj 709 750 table Times 5;
#X msg 709 786 \; Times 0 500 1000 2000 1000 500;
#X obj 786 418 tabread;
#X obj 816 344 random 5;
#X msg 873 367 set Times;
#X obj 1088 151 receive m;
#X msg 1161 158 17 15 2;
#X obj 30 197 send m;
#X obj 803 279 send v;
#X obj 832 463 send t;
#X obj 1162 204 drunk;
#X obj 1278 308 receive v;
#X obj 1345 344 receive t;
#X obj 1195 370 makenote;
#X obj 290 433 print;
#X obj 1343 747 table TimesBass 5;
#X msg 1339 788 \; TimesBass 0 500 1000 2000 1000 500;
#X obj 236 44 hsl 128 15 150 300 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 104 116 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 67 274 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 631 7 inlet, f 6;
#X obj 339 540 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 701 644 japan;
#X text 1060 633 major;
#X text 1463 627 dorian;
#X msg 275 368 set C;
#X obj 360 391 tabread C;
#X obj 1831 862 table C 27;
#X msg 579 850 \; C 0 48 49 53 55 58 60 61 65 67 70 72 73 77 79 82
84 85 89 91 94 96 97 101 103 106 108;
#X msg 1001 853 \; C 0 48 50 52 53 55 57 59 60 62 64 65 67 69 71 72
74 76 77 79 81 83 84 86 88 89 91 93 95 96;
#X msg 1435 854 \; C 0 48 50 51 53 55 57 58 60 62 63 65 67 69 70 72
74 75 77 79 81 82 84 86 87 89 91 93 94;
#X obj 1433 625 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1033 634 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 670 644 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1826 990 table CB 22;
#X obj 1191 281 tabread CB;
#X msg 1216 204 set CB 22;
#X msg 1003 984 \; CB 0 36 38 40 41 43 45 47 48 50 52 53 55 57 59 60
;
#X msg 571 971 \; CB 0 36 37 41 43 46 48 49 53 55 58 60 61 65 67 70
;
#X text 1091 948 major bass;
#X text 685 949 japan bass;
#X text 1611 952 dorian bass;
#X msg 1442 983 \; CB 0 36 38 39 41 43 45 46 48 50 51 53 55 57 58 60
;
#X obj 1162 450 noteout;
#X obj 902 331 loadbang;
#X obj 1197 120 loadbang;
#X obj 1280 165 loadbang;
#X obj 270 337 loadbang;
#X floatatom 545 560 5 0 0 0 - - -, f 5;
#X floatatom 592 546 5 0 0 0 - - -, f 5;
#X obj 101 172 metro 150;
#X obj 81 682 pack f f f;
#X obj 81 718 route 1 2 3 4 5 6;
#X obj 80 953 dac~;
#N canvas 528 406 450 300 osc~synth 1;
#X obj 68 38 inlet;
#X obj 68 92 mtof;
#X obj 68 63 unpack;
#X obj 68 125 osc~;
#X obj 115 94 / 127;
#X obj 68 236 outlet~;
#X text 154 107 here would be an adsr envelope;
#X obj 68 198 *~ 0.2;
#X text 123 199 reduce the output level to prevent distortion;
#X obj 115 140 line~;
#X obj 68 161 *~;
#X msg 115 116 \$1 5;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 4 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 7 0 5 0;
#X connect 9 0 10 1;
#X connect 10 0 7 0;
#X connect 11 0 9 0;
#X restore 81 747 pd osc~synth;
#X obj 81 801 +~;
#X obj 81 828 +~;
#X obj 80 854 +~;
#X obj 80 881 +~;
#X obj 80 908 +~;
#X obj 82 648 poly 6 1;
#N canvas 709 217 450 300 osc~synth 0;
#X obj 68 38 inlet;
#X obj 68 92 mtof;
#X obj 68 63 unpack;
#X obj 68 125 osc~;
#X obj 115 94 / 127;
#X obj 68 236 outlet~;
#X text 154 107 here would be an adsr envelope;
#X obj 68 198 *~ 0.2;
#X text 123 199 reduce the output level to prevent distortion;
#X obj 115 140 line~;
#X obj 68 161 *~;
#X msg 115 116 \$1 5;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 4 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 7 0 5 0;
#X connect 9 0 10 1;
#X connect 10 0 7 0;
#X connect 11 0 9 0;
#X restore 95 770 pd osc~synth;
#N canvas 709 217 450 300 osc~synth 0;
#X obj 68 38 inlet;
#X obj 68 92 mtof;
#X obj 68 63 unpack;
#X obj 68 125 osc~;
#X obj 115 94 / 127;
#X obj 68 236 outlet~;
#X text 154 107 here would be an adsr envelope;
#X obj 68 198 *~ 0.2;
#X text 123 199 reduce the output level to prevent distortion;
#X obj 115 140 line~;
#X obj 68 161 *~;
#X msg 115 116 \$1 5;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 4 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 7 0 5 0;
#X connect 9 0 10 1;
#X connect 10 0 7 0;
#X connect 11 0 9 0;
#X restore 114 794 pd osc~synth;
#N canvas 709 217 450 300 osc~synth 0;
#X obj 68 38 inlet;
#X obj 68 92 mtof;
#X obj 68 63 unpack;
#X obj 68 125 osc~;
#X obj 115 94 / 127;
#X obj 68 236 outlet~;
#X text 154 107 here would be an adsr envelope;
#X obj 68 198 *~ 0.2;
#X text 123 199 reduce the output level to prevent distortion;
#X obj 115 140 line~;
#X obj 68 161 *~;
#X msg 115 116 \$1 5;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 4 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 7 0 5 0;
#X connect 9 0 10 1;
#X connect 10 0 7 0;
#X connect 11 0 9 0;
#X restore 130 818 pd osc~synth;
#N canvas 709 217 450 300 osc~synth 0;
#X obj 68 38 inlet;
#X obj 68 92 mtof;
#X obj 68 63 unpack;
#X obj 68 125 osc~;
#X obj 115 94 / 127;
#X obj 68 236 outlet~;
#X text 154 107 here would be an adsr envelope;
#X obj 68 198 *~ 0.2;
#X text 123 199 reduce the output level to prevent distortion;
#X obj 115 140 line~;
#X obj 68 161 *~;
#X msg 115 116 \$1 5;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 4 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 7 0 5 0;
#X connect 9 0 10 1;
#X connect 10 0 7 0;
#X connect 11 0 9 0;
#X restore 144 841 pd osc~synth;
#N canvas 709 247 450 300 osc~synth 1;
#X obj 68 38 inlet;
#X obj 68 92 mtof;
#X obj 68 63 unpack;
#X obj 68 125 osc~;
#X obj 115 94 / 127;
#X obj 68 236 outlet~;
#X text 154 107 here would be an adsr envelope;
#X obj 68 198 *~ 0.2;
#X text 123 199 reduce the output level to prevent distortion;
#X obj 115 140 line~;
#X obj 68 161 *~;
#X msg 115 116 \$1 5;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 4 0;
#X connect 3 0 10 0;
#X connect 4 0 11 0;
#X connect 7 0 5 0;
#X connect 9 0 10 1;
#X connect 10 0 7 0;
#X connect 11 0 9 0;
#X restore 163 865 pd osc~synth;
#X text 204 741 the synth would normally be an abstraction to make
updating easier;
#X text 157 647 poly acts as a voice allocator and keeps track of the
incoming midi note and velocity freeing up slots on the fly when note-off
(velocity 0) is received;
#X connect 0 0 32 0;
#X connect 0 0 59 0;
#X connect 0 0 71 0;
#X connect 0 1 60 0;
#X connect 0 1 71 1;
#X connect 3 0 61 1;
#X connect 8 0 10 0;
#X connect 9 0 37 0;
#X connect 10 0 0 1;
#X connect 10 0 19 0;
#X connect 13 0 0 2;
#X connect 13 0 20 0;
#X connect 14 0 13 0;
#X connect 15 0 13 0;
#X connect 16 0 21 0;
#X connect 17 0 21 0;
#X connect 21 0 46 0;
#X connect 22 0 24 1;
#X connect 23 0 24 2;
#X connect 24 0 54 0;
#X connect 24 1 54 1;
#X connect 28 0 3 0;
#X connect 29 0 61 0;
#X connect 31 0 28 0;
#X connect 36 0 37 0;
#X connect 37 0 25 0;
#X connect 37 0 0 0;
#X connect 42 0 41 0;
#X connect 42 0 12 0;
#X connect 42 0 27 0;
#X connect 42 0 53 0;
#X connect 43 0 40 0;
#X connect 43 0 12 0;
#X connect 43 0 48 0;
#X connect 43 0 27 0;
#X connect 44 0 12 0;
#X connect 44 0 49 0;
#X connect 44 0 27 0;
#X connect 44 0 39 0;
#X connect 46 0 24 0;
#X connect 47 0 46 0;
#X connect 55 0 15 0;
#X connect 56 0 17 0;
#X connect 57 0 47 0;
#X connect 58 0 36 0;
#X connect 61 0 9 0;
#X connect 61 0 8 0;
#X connect 61 0 14 0;
#X connect 61 0 18 0;
#X connect 61 0 30 0;
#X connect 62 0 63 0;
#X connect 63 0 65 0;
#X connect 63 1 72 0;
#X connect 63 2 73 0;
#X connect 63 3 74 0;
#X connect 63 4 75 0;
#X connect 63 5 76 0;
#X connect 65 0 66 0;
#X connect 66 0 67 0;
#X connect 67 0 68 0;
#X connect 68 0 69 0;
#X connect 69 0 70 0;
#X connect 70 0 64 0;
#X connect 70 0 64 1;
#X connect 71 0 62 0;
#X connect 71 1 62 1;
#X connect 71 2 62 2;
#X connect 72 0 66 1;
#X connect 73 0 67 1;
#X connect 74 0 68 1;
#X connect 75 0 69 1;
#X connect 76 0 70 1;
